@using Nop.Core
@using Nop.Services.Customers
@inject ICustomerService customerService
@inject IWorkContext workContext 

@{
    var isLoggedIn = customerService.IsRegistered(workContext.CurrentCustomer);

}

@await Component.InvokeAsync("Widget", new { widgetZone = PublicWidgetZones.HeaderBefore })
<nav class="navbar navbar-light p-0 navbar-expand border-bottom bg-dark">
    <div class="container pt-1 pb-1">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item dropdown">
                @await Component.InvokeAsync("LanguageSelector")
            </li>
            <li class="nav-item">
                <button class="btn btn-sm text-white">
                    <i class="fas fa-funnel-dollar"></i>
                    Sell on Site
                </button>
            </li>
            <li class="nav-item">
                <button class="btn btn-sm text-white">
                    <i class="fas fa-hand-sparkles"></i>
                    Customer Wish
                </button>
            </li>
        </ul>
        <ul class="navbar-nav">
            @if (isLoggedIn)
            {
                <li class="nav-item">
                    <a href="@Url.RouteUrl("CustomerInfo")" class="btn btn-sm text-white">
                        <i class="fas fa-lock"></i>
                        Welcome back @workContext.CurrentCustomer.Username
                    </a>
                </li>
                <li class="nav-item">
                    <button class="btn btn-sm text-white">
                        |
                    </button>
                </li>
                <li class="nav-item">
                    <a href="@Url.RouteUrl("Logout")" class="btn btn-sm bg-light-green text-white">
                        <i class="fas fa-user-plus"></i>
                        Sign Out
                    </a>
                </li>
            }
            else
            {
                <li class="nav-item">
                    <a href="@Url.RouteUrl("Login")" class="btn btn-sm text-white">
                        <i class="fas fa-lock"></i>
                        Login
                    </a>
                </li>
                <li class="nav-item">
                    <button class="btn btn-sm text-white">
                        |
                    </button>
                </li>
                <li class="nav-item">
                    <a href="@Url.RouteUrl("Register")" class="btn btn-sm bg-light-green text-white">
                        <i class="fas fa-user-plus"></i>
                        Sign Up
                    </a>
                </li>
            }
        </ul>
    </div> <!-- container //  -->
</nav>

<section class="border-bottom">
    <nav class="navbar navbar-main navbar-expand-lg navbar-light">
        <div class="container">
            @await Component.InvokeAsync("Logo")

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main_nav1" aria-controls="main_nav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="main_nav1">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item p-0 border-0">
                        <a class="nav-link l-big" href="/">
                            <i class="fas fa-home"></i>
                        </a>
                    </li>
                    <li class="nav-item dropdown position-static p-0 border-0">
                        <a class="nav-link l-big dropdown-toggle" href="#" id="navbarDropdown" role="button"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Shop
                        </a>
                        <div class="dropdown-menu shop-dropdown w-100 bg-transparent border-0 pt-0 mt-0"
                             aria-labelledby="navbarDropdown">
                            <div class="container bg-white p-0 shadow-sm">

                                <div class="w-100 d-flex">
                                    @await Component.InvokeAsync("TopMenu")
                                    @*<div class="">
            <div class="nav flex-column" id="v-pills-tab" role="tablist"
                 aria-orientation="vertical">


                <a class="nav-link bg-light active" id="v-pills-a-tab"
                   data-toggle="pill" href="#v-pills-a" role="tab"
                   aria-controls="v-pills-a" aria-selected="true">
                    <img src="/Themes/RootTheme/Content/images/category-icons/announcement.png" alt="">
                    Highlights
                </a>


                <a class="nav-link bg-light" id="v-pills-b-tab" data-toggle="pill"
                   href="#v-pills-b" role="tab" aria-controls="v-pills-b"
                   aria-selected="true">
                    <img src="/Themes/RootTheme/Content/images/category-icons/haatbazar.png" alt="">
                    HaatBazar
                </a>


                <a class="nav-link bg-light" id="v-pills-c-tab" data-toggle="pill"
                   href="#v-pills-c" role="tab" aria-controls="v-pills-c"
                   aria-selected="true">
                    <img src="/Themes/RootTheme/Content/images/category-icons/cattle.png" alt="">
                    Cattle
                </a>


                <a class="nav-link bg-light" id="v-pills-d-tab" data-toggle="pill"
                   href="#v-pills-d" role="tab" aria-controls="v-pills-d"
                   aria-selected="true">
                    <img src="/Themes/RootTheme/Content/images/category-icons/poultry.png" alt="">
                    Poultry
                </a>


                <a class="nav-link bg-light" id="v-pills-e-tab" data-toggle="pill"
                   href="#v-pills-e" role="tab" aria-controls="v-pills-e"
                   aria-selected="true">
                    <img src="/Themes/RootTheme/Content/images/category-icons/aqua.png" alt="">
                    Aqua
                </a>


                <a class="nav-link bg-light" id="v-pills-f-tab" data-toggle="pill"
                   href="#v-pills-f" role="tab" aria-controls="v-pills-f"
                   aria-selected="true">
                    <img src="/Themes/RootTheme/Content/images/category-icons/agriculture.png" alt="">
                    Agri Supply
                </a>


                <a class="nav-link bg-light" id="v-pills-g-tab" data-toggle="pill"
                   href="#v-pills-g" role="tab" aria-controls="v-pills-g"
                   aria-selected="true">
                    <img src="/Themes/RootTheme/Content/images/category-icons/feedmill-supply.png" alt="">
                    Feedmill Supply
                </a>


                <a class="nav-link bg-light" id="v-pills-h-tab" data-toggle="pill"
                   href="#v-pills-h" role="tab" aria-controls="v-pills-h"
                   aria-selected="true">
                    <img src="/Themes/RootTheme/Content/images/category-icons/pets-birds-fish.png" alt="">
                    Pets, Birds & Aquarium Fishes
                </a>


                <a class="nav-link bg-light" id="v-pills-i-tab" data-toggle="pill"
                   href="#v-pills-i" role="tab" aria-controls="v-pills-i"
                   aria-selected="true">
                    <img src="/Themes/RootTheme/Content/images/category-icons/gardening.png" alt="">
                    Gardening
                </a>


            </div>
        </div>
        <div class="flex-grow-1">
            <div class="tab-content" id="v-pills-tabContent">


                <div class="tab-pane fade show active" id="v-pills-a" role="tabpanel"
                     aria-labelledby="v-pills-a-tab">

                    <div class="menu-tab-content-wrap p-2">
                        <div class="d-flex">
                            <div class="col-7 menu-items-wrap pr-4">

                                <h6 class="text-muted"> MVV (Most Valuable Vendor) </h6>
                                <hr>
                                <div class="row row-cols-6">
                                    <div class="col px-1 py-1">
                                        <img src="https://via.placeholder.com/100x100?text=A"
                                             alt="" class="img-fluid" loading="lazy">
                                    </div>
                                    <div class="col px-1 py-1">
                                        <img src="https://via.placeholder.com/100x100?text=B"
                                             alt="" class="img-fluid" loading="lazy">
                                    </div>
                                    <div class="col px-1 py-1">
                                        <img src="https://via.placeholder.com/100x100?text=C"
                                             alt="" class="img-fluid" loading="lazy">
                                    </div>
                                    <div class="col px-1 py-1">
                                        <img src="https://via.placeholder.com/100x100?text=D"
                                             alt="" class="img-fluid" loading="lazy">
                                    </div>
                                </div>


                                <h6 class="text-muted mt-3"> Trending Categories </h6>
                                <hr>
                                <div class="row row-cols-4">
                                    <div class="col px-1 py-1">
                                        <img src="https://via.placeholder.com/155x155?text=Category+A"
                                             alt="" class="img-fluid" loading="lazy">
                                    </div>
                                    <div class="col px-1 py-1">
                                        <img src="https://via.placeholder.com/155x155?text=Category+B"
                                             alt="" class="img-fluid" loading="lazy">
                                    </div>
                                    <div class="col px-1 py-1">
                                        <img src="https://via.placeholder.com/155x155?text=Category+C"
                                             alt="" class="img-fluid" loading="lazy">
                                    </div>
                                    <div class="col px-1 py-1">
                                        <img src="https://via.placeholder.com/155x155?text=Category+D"
                                             alt="" class="img-fluid" loading="lazy">
                                    </div>
                                </div>

                                <div class="row mt-3">
                                    <div class="col px-1 py-1">
                                        <img src="https://via.placeholder.com/550x250?text=Flash+Sale+Deals"
                                             alt="" class="img-fluid" loading="lazy">
                                    </div>
                                    <div class="col px-1 py-1">
                                        <img src="https://via.placeholder.com/550x250?text=AgroMukam+Special"
                                             alt="" class="img-fluid" loading="lazy">
                                    </div>
                                </div>

                            </div>
                            <div class="col-5 pl-4 menu-ads-wrap">

                                <h6 class="text-muted"> Product of the week </h6>
                                <hr>
                                <div class="row row-cols-2">
                                    <div class="col px-1 py-1">
                                        <img src="https://via.placeholder.com/200x200?text=Product+A"
                                             alt="" class="img-fluid" loading="lazy">
                                    </div>
                                    <div class="col px-1 py-1">
                                        <img src="https://via.placeholder.com/200x200?text=Random+Add"
                                             alt="" class="img-fluid" loading="lazy">
                                    </div>
                                    <div class="col px-1 py-1">
                                        <img src="https://via.placeholder.com/200x200?text=Product+C"
                                             alt="" class="img-fluid" loading="lazy">
                                    </div>
                                    <div class="col px-1 py-1">
                                        <img src="https://via.placeholder.com/200x200?text=Product+D"
                                             alt="" class="img-fluid" loading="lazy">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>


                <div class="tab-pane fade" id="v-pills-b" role="tabpanel"
                     aria-labelledby="v-pills-b-tab">
                    HaatBazar
                </div>


                <div class="tab-pane fade" id="v-pills-c" role="tabpanel"
                     aria-labelledby="v-pills-c-tab">
                    Cattle
                </div>


                <div class="tab-pane fade" id="v-pills-d" role="tabpanel"
                     aria-labelledby="v-pills-d-tab">
                    Poultry
                </div>


                <div class="tab-pane fade" id="v-pills-e" role="tabpanel"
                     aria-labelledby="v-pills-e-tab">
                    Aqua
                </div>


                <div class="tab-pane fade" id="v-pills-f" role="tabpanel"
                     aria-labelledby="v-pills-f-tab">
                    Agri Supply
                </div>


                <div class="tab-pane fade" id="v-pills-g" role="tabpanel"
                     aria-labelledby="v-pills-g-tab">
                    Feedmill Supply
                </div>


                <div class="tab-pane fade" id="v-pills-h" role="tabpanel"
                     aria-labelledby="v-pills-h-tab">
                    Pets, Birds & Aquarium fishes
                </div>


                <div class="tab-pane fade" id="v-pills-i" role="tabpanel"
                     aria-labelledby="v-pills-i-tab">
                    Gardening
                </div>




            </div>
        </div>*@
                                </div>

                            </div>
                        </div>
                    </li>
                    <li class="nav-item p-0 border-0">
                        <a class="nav-link l-big" href="#">
                            Track Order
                        </a>
                    </li>
                    <li class="nav-item p-0 border-0">
                        <a class="nav-link l-big" href="#">
                            Customer Care
                        </a>
                    </li>
                    @*<li class="nav-item p-0 border-0">
                        <div class="header-links-wrapper">
                            @await Component.InvokeAsync("HeaderLinks")
                            @await Component.InvokeAsync("FlyoutShoppingCart")
                        </div>
                    </li>*@
                </ul>


                <div class="widgets-wrap d-none d-md-block">
                    <a href="#" class="widget-header">
                        <div class="icon">
                            <i class="icon-sm rounded-circle border fa fa-search"></i>
                        </div>
                    </a>

                    <a href="/cart" class="widget-header pl-2">
                        <div class="icon icon-sm rounded-circle border">
                            <i class="fa fa-shopping-cart"></i>
                        </div>
                        @*<span class="badge badge-pill badge-danger notify">0</span>*@
                    </a>

                    @*<div class="header-links-wrapper">
                        @await Component.InvokeAsync("FlyoutShoppingCart")
                    </div>*@
                </div> <!-- widgets-wrap.// -->

            </div> <!-- collapse .// -->

        </div> <!-- container .// -->
    </nav>
</section> <!-- header-main .// -->
@*<div class="header-upper header-top">
        <div class="container">
            <div class="row">
                <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6">
                    <div class="header-selectors-wrapper">
                        @await Component.InvokeAsync("TaxTypeSelector")
                        @await Component.InvokeAsync("CurrencySelector")
                        @await Component.InvokeAsync("LanguageSelector")
                        @await Component.InvokeAsync("Widget", new { widgetZone = PublicWidgetZones.HeaderSelectors })
                    </div>
                </div>
                <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6">
                    <div class="header-links-wrapper">
                        @await Component.InvokeAsync("HeaderLinks")
                        @await Component.InvokeAsync("FlyoutShoppingCart")
                    </div>
                </div>
            </div>
        </div>
    </div>*@
@*@await Component.InvokeAsync("Widget", new { widgetZone = PublicWidgetZones.HeaderMiddle })
    <nav class="navbar navbar-expand navbar-light">
        <div class="container">
            @await Component.InvokeAsync("Logo")
            <button class="navbar-toggler" type="button" data-toggle="collapse"
                    data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                    aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">

                </ul>
            </div>
        </div>
    </nav>
*@
@await Component.InvokeAsync("Widget", new { widgetZone = PublicWidgetZones.HeaderAfter })

<script asp-location="Footer">
    $(document).ready(function () {
        /*js for Search box toogle in mobile */
        $(".search-icon").click(function () {
            $(".header-lower .search-box").slideToggle();
            $(".header-lower .header-links-wrapper").slideUp();
        });

        /*js to close account links & search when clicked on menu */
        $("#toggle .menu-icon").click(function () {
            $(".header-lower .search-box").slideUp();
            $(".header-lower .header-links-wrapper").slideUp();
        });
    });
</script>
